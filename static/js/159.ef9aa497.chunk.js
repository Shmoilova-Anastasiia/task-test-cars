"use strict";(self.webpackChunktask_test_cars=self.webpackChunktask_test_cars||[]).push([[159],{8633:function(e,n,r){r.d(n,{Z:function(){return _}});var t=r(9439),i=r(9434),s=r(8820),a=r(5385),c=r(184),l=function(e){var n=e.locationData,r=e.carData,i=function(e,n){return"functionalities"===e?function(e){if(!e||0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++){var t=e[r];t.split(" ").length<n.split(" ").length&&(n=t)}var i=n.split(" ");return i.length>3?i.slice(0,3).join(" "):n}(n):"type"===e?n.split(",")[0].trim():n};return(0,c.jsxs)("div",{children:[(0,c.jsx)("ul",{className:a.Z.listCard,children:n.map((function(e,r){return(0,c.jsxs)("li",{className:a.Z.itemCard,children:[e,r<n.length-1]},r)}))}),(0,c.jsx)("ul",{className:a.Z.listCard,children:Object.entries(r).map((function(e,n,r){var s=(0,t.Z)(e,2),l=s[0],o=s[1];return(0,c.jsxs)("li",{className:a.Z.itemCard,children:[i(l,o),n<r.length-1]},n)}))})]})},o=r.p+"static/media/DefaultImage.2f1dfdb3f92f50a95b90.jpeg",u=r(3558),d=r(4766),m=r(2791),h=r(4164),f=r(4373),j="Modal_backdrop__xTnIT",p="Modal_modal__DJDMv",x=document.getElementById("modal"),v=function(e){var n=e.onClose,r=e.children,t=e.isOpen;(0,m.useEffect)((function(){document.body.style.overflow=t?"hidden":"visible"}),[t]);var i=(0,m.useCallback)((function(e){document.body.style.overflow="visible",function(e,n){var r=e.target,t=e.currentTarget,i=e.code;r!==t&&"Escape"!==i||n()}(e,n)}),[n]);return(0,m.useEffect)((function(){return document.body.addEventListener("keydown",i),function(){return document.body.removeEventListener("keydown",i)}}),[i]),(0,h.createPortal)((0,c.jsx)("div",{className:j,onClick:i,children:(0,c.jsxs)("div",{className:p,children:[(0,c.jsx)("button",{onClick:n,type:"button",children:(0,c.jsx)(f.QAE,{})}),r]})}),x)},g=function(e){var n=e.car,r=n.year,t=n.make,i=n.model,s=n.img,a=n.rentalPrice,l=n.address,u=n.description,d=n.accessories,m=n.functionalities,h=n.rentalConditions,f=n.mileage,j=function(e){var n=e.fuelConsumption,r=e.engineSize;return["Fuel Consumption: ".concat(n),"Engine Size: ".concat(r)]}(n),p=function(e,n){var r=e.split(", "),t=r[1],i=r[r.length-1],s=n.year,a=n.type,c=n.id;return[t,i,"Id: ".concat(c),"Year: ".concat(s),"Type: ".concat(a)]}(l,n),x=function(e){var n=e.split("\n"),r=n[0].split(" ").slice(-1).join("");return n[0]=n[0].replace(r,""),n.splice(1,0,r),n}(h),v=f.toLocaleString("en-EN"),g=a.split("").slice(1).join("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{src:s||o,alt:"".concat(t," ").concat(i),width:"461",height:"248",loading:"lazy"}),(0,c.jsxs)("h2",{children:[t," ",(0,c.jsx)("span",{className:"",children:i}),", ",r]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("ul",{children:p.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<p.length-1]},n)}))}),(0,c.jsx)("ul",{children:j.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<p.length-1]},n)}))})]}),(0,c.jsx)("div",{children:u}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Accessories and functionalities:"}),(0,c.jsx)("ul",{children:d.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<d.length-1]},n)}))}),(0,c.jsx)("ul",{children:m.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<d.length-1]},n)}))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Rental Conditions:"}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:x[0]}),(0,c.jsx)("span",{children:x[1]})]}),(0,c.jsx)("li",{children:(0,c.jsx)("p",{children:x[2]})}),(0,c.jsx)("li",{children:(0,c.jsx)("p",{children:x[3]})}),(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:"Mileage: "}),(0,c.jsx)("span",{children:v})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:"Price: "}),(0,c.jsx)("span",{children:"".concat(g,"$")})]})]})]}),(0,c.jsx)("a",{href:"tel:+380730000000",children:"Rental car"})]})},_=function(e){var n=e.car,r=(0,i.I0)(),h=(0,i.v9)(d.Tc),f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,m.useState)(e),r=(0,t.Z)(n,2),i=r[0],s=r[1],a=function(){return s(!0)},c=function(){return s(!1)},l=function(){return s((function(e){return!e}))};return{isOpen:i,open:a,close:c,toggle:l}}(!1),j=f.isOpen,p=f.open,x=f.close,_=null===h||void 0===h?void 0:h.some((function(e){return e.id===n.id})),b=function(e){var n=e.address,r=e.rentalCompany,t=n.split(", ");return[t[1],t[t.length-1],r]}(n),C=function(e){return{type:e.type,mileage:e.mileage,functionalities:e.functionalities}}(n);return(0,c.jsxs)("li",{className:a.Z.item,children:[(0,c.jsxs)("div",{className:a.Z.thumbImage,children:[(0,c.jsx)("button",{className:a.Z.buttonImage,type:"button",onClick:function(){return r(_?(0,u.zm)(n):(0,u.Im)(n))},children:(0,c.jsx)(s.M_L,{className:" ".concat(_?a.Z.iconHeart_favorite:a.Z.iconHeart)})}),(0,c.jsx)("img",{className:a.Z.image,src:n.img?n.img:o,alt:"".concat(n.make," ").concat(n.model),width:"274",height:"268",loading:"lazy"})]}),(0,c.jsxs)("h2",{className:a.Z.titleCard,children:[" ",(0,c.jsxs)("span",{children:[" ",n.make,"  ",(0,c.jsx)("span",{children:n.model}),", ",n.year]})," ",(0,c.jsx)("span",{className:a.Z.titlePart,children:n.rentalPrice})]}),(0,c.jsx)(l,{locationData:b,carData:C}),(0,c.jsx)("button",{className:a.Z.buttonCard,onClick:p,children:"Learn more"}),j&&(0,c.jsx)(v,{isOpen:j,onClose:x,children:(0,c.jsx)(g,{car:n})})]})}},3620:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(1413),i=r(9434),s=r(887),a=r(2791),c=r(7689),l=r(3558),o=r(4766),u=r(3433),d=r(9439),m=r(2791),h=m.useState,f=m.useEffect,j="Filter_form__wVnxJ",p=r(184),x=function(e){var n=e.cars,r=(0,i.v9)(o.AD),m=(0,i.I0)(),x="/favorites"===(0,c.TH)().pathname&&0===(null===n||void 0===n?void 0:n.length),v=function(e){if(e.length){var n=0,r=[];e.forEach((function(e){var r=+e.rentalPrice.split("").slice(1).join("");r>n&&(n=r)}));for(var t=10;t<=n;)r.push(t),t+=10;return r}}(n),g=function(e,n){var r=h([]),t=(0,d.Z)(r,2),i=t[0],s=t[1];return f((function(){if(n){var r=(0,u.Z)(new Set(e.map((function(e){return e[n]}))));s(r)}}),[e,n]),i}(n,"make"),_=(0,s.cI)({mode:"onChange",shouldDisable:x}),b=_.register,C=_.handleSubmit,y=_.control,Z=_.reset,N=_.formState.errors;(0,a.useEffect)((function(){Z(r)}),[r,Z]);return(0,p.jsx)("form",{onSubmit:C((function(e){m((0,l.Tv)(e))})),disabled:x,children:(0,p.jsxs)("div",{className:j,children:[(0,p.jsxs)("div",{className:j,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"brand",children:"Car brand"}),(0,p.jsx)(s.Qr,{name:"brand",control:y,rules:{required:!0,message:"Brand is required"},render:function(e){var n=e.field;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("select",(0,t.Z)((0,t.Z)({},n),{},{children:[(0,p.jsx)("option",{value:"",children:"Enter the text"}),g&&g.map((function(e,n){return(0,p.jsx)("option",{value:e,children:e},n)}))]})),N.brand&&(0,p.jsx)("p",{className:"error ".concat(x?"opacity-0":"opacity-100"),children:"required"===N.brand.type?"Brand is required":N.brand.message})]})}})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"price",children:"Price/ 1 hour"}),(0,p.jsx)("div",{children:(0,p.jsx)(s.Qr,{name:"price",control:y,rules:{required:!0,min:{value:0,message:"Must be 0 or greater"}},render:function(e){var n=e.field;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("select",(0,t.Z)((0,t.Z)({},n),{},{children:[(0,p.jsx)("option",{value:"",children:"To $"}),v&&v.map((function(e,n){return(0,p.jsx)("option",{value:e,children:e},n)}))]})),N.price&&(0,p.jsx)("p",{className:"error ".concat(x?"opacity-0":"opacity-100"),children:"required"===N.price.type?"Price is required":N.price.message})]})}})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"minMileage",children:"Car mileage / km (from)"}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{children:[(0,p.jsx)("input",(0,t.Z)({type:"number"},b("from",{required:"This field is required",min:{value:0,message:"Must be 0 or greater"}}))),(0,p.jsx)("span",{children:"From"})]}),(0,p.jsxs)("label",{children:[(0,p.jsx)("input",(0,t.Z)({type:"number"},b("to",{required:"This field is required",min:{value:0,message:"Must be 0 or greater"},validate:function(e,n){var r=n.from;return parseInt(e)>parseInt(r)||"To must be greater than From"}}))),(0,p.jsx)("span",{children:"To"})]}),(0,p.jsxs)("p",{className:"error flex items-center justify-between gap-1 ".concat(x?"opacity-0":"opacity-100"),children:[(null===N||void 0===N?void 0:N.from)&&(0,p.jsx)("span",{children:N.from.message}),(null===N||void 0===N?void 0:N.to)&&(0,p.jsx)("span",{children:N.to.message})]})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{type:"submit",children:"Search"}),(0,p.jsx)("button",{type:"button",onClick:function(){m((0,l.sx)()),Z({brand:"",price:"",from:"",to:""})},children:"Reset"})]})]})})}},2773:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(2791),i=r(9434),s=r(7660),a=r(4766),c=r(3558),l=r(9439),o=r(8633),u=r(5385),d=r(184),m=function(e){var n,r,i=e.adverts,s=function(e){var n=(0,t.useState)(1),r=(0,l.Z)(n,2),i=r[0],s=r[1],a=(0,t.useState)(e);return[(0,l.Z)(a,1)[0],i,function(){return s((function(e){return e+1}))}]}(8),a=(0,l.Z)(s,3),c=a[0],m=a[1],h=a[2],f=c*m;return(0,d.jsxs)("div",{className:u.Z.containerCatalog,children:[(0,d.jsx)("ul",{className:u.Z.list,children:(n=i,r=f,null===n||void 0===n?void 0:n.slice(0,r)).map((function(e){return(0,d.jsx)(o.Z,{car:e},e.id)}))}),(null===i||void 0===i?void 0:i.length)>=f&&(0,d.jsx)("button",{className:u.Z.button,onClick:h,children:"Load more"})]})},h=r(3620),f="CatalogPage_container__w3ZO8",j=function(){var e=(0,i.I0)(),n=(0,i.v9)(a.Wz),r=function(e,n){return n?e.filter((function(e){var r=parseInt(e.rentalPrice.substring(1)),t=parseFloat(e.mileage),i=!n.brand||e.make.toLowerCase()===n.brand.toLowerCase(),s=!n.price||r<=n.price,a=!n.from||t>=n.from,c=!n.to||t<=n.to,l=!n.rentalCompany||e.rentalCompany.toLowerCase()===n.rentalCompany.toLowerCase();return i&&s&&a&&c&&l})):e}(n,(0,i.v9)(a.AD));return(0,t.useEffect)((function(){e((0,s.t)())}),[e]),(0,t.useEffect)((function(){e((0,c.Tv)(null))}),[e]),(0,d.jsxs)("div",{className:f,children:[(0,d.jsx)(h.Z,{cars:r}),(null===n||void 0===n?void 0:n.length)>0&&(0,d.jsx)(m,{adverts:r})]})}},4766:function(e,n,r){r.d(n,{AD:function(){return s},Tc:function(){return i},Wz:function(){return t}});var t=function(e){return e.cars.items},i=function(e){return e.cars.favorites},s=function(e){return e.cars.filter}},5385:function(e,n){n.Z={containerCatalog:"CarsList_containerCatalog__klDmo",list:"CarsList_list__CjSQY",button:"CarsList_button__OHdZY",item:"CarsList_item__UxzUF",thumbImage:"CarsList_thumbImage__6QjSI",buttonImage:"CarsList_buttonImage__rRzCi",iconHeart:"CarsList_iconHeart__M9ICc",iconHeart_favorite:"CarsList_iconHeart_favorite__oFdYk",image:"CarsList_image__XQzuG",buttonCard:"CarsList_buttonCard__6zQVo",listCard:"CarsList_listCard__gjs5U",itemCard:"CarsList_itemCard__hjNes",titleCard:"CarsList_titleCard__Jq4yL",titlePart:"CarsList_titlePart__uiGY7"}}}]);
//# sourceMappingURL=159.ef9aa497.chunk.js.map