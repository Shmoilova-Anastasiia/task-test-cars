"use strict";(self.webpackChunktask_test_cars=self.webpackChunktask_test_cars||[]).push([[145],{8633:function(e,n,r){r.d(n,{Z:function(){return T}});var t=r(9439),a=r(9434),s=r(8820),i=r(5385),l=r(184),c=function(e){var n=e.locationData,r=e.carData,a=function(e,n){return"functionalities"===e?function(e){if(!e||0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++){var t=e[r];t.split(" ").length<n.split(" ").length&&(n=t)}var a=n.split(" ");return a.length>3?a.slice(0,3).join(" "):n}(n):"type"===e?n.split(",")[0].trim():n};return(0,l.jsxs)("div",{children:[(0,l.jsx)("ul",{className:i.Z.listCard,children:n.map((function(e,r){return(0,l.jsxs)("li",{className:i.Z.itemCard,children:[e,r<n.length-1]},r)}))}),(0,l.jsx)("ul",{className:i.Z.listCard,children:Object.entries(r).map((function(e,n,r){var s=(0,t.Z)(e,2),c=s[0],o=s[1];return(0,l.jsxs)("li",{className:i.Z.itemCard,children:[a(c,o),n<r.length-1]},n)}))})]})},o=r.p+"static/media/DefaultImage.2f1dfdb3f92f50a95b90.jpeg",d=r(3558),u=r(4766),m=r(2791),_=r(4164),h=r(4373),f="Modal_backdrop__xTnIT",j="Modal_modal__DJDMv",x="Modal_image__PGSjp",p="Modal_buttonClose__5LpkD",g="Modal_iconClose__AUpu-",v="Modal_containerCard__VYMyg",N="Modal_titleCard__zed2q",C="Modal_titleAccent__N8b-c",b="Modal_listLocation__QaeWu",L="Modal_itemLocation__k1Sx3",F="Modal_containerDescription__w8xjk",y="Modal_containerFunc__iivOd",M="Modal_titleFunc__HAgyd",Z="Modal_listAcces__FLQM0",k="Modal_itemAcces__1Ppmv",P="Modal_listRental__iEL-h",I="Modal_itemRental__jZ-H1",w="Modal_itemAccent__7zPRR",S="Modal_linkModal__E3SjW",E=document.getElementById("modal"),q=function(e){var n=e.onClose,r=e.children,t=e.isOpen;(0,m.useEffect)((function(){document.body.style.overflow=t?"hidden":"visible"}),[t]);var a=(0,m.useCallback)((function(e){document.body.style.overflow="visible",function(e,n){var r=e.target,t=e.currentTarget,a=e.code;r!==t&&"Escape"!==a||n()}(e,n)}),[n]);return(0,m.useEffect)((function(){return document.body.addEventListener("keydown",a),function(){return document.body.removeEventListener("keydown",a)}}),[a]),(0,_.createPortal)((0,l.jsx)("div",{className:f,onClick:a,children:(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("button",{onClick:n,className:p,type:"button",children:(0,l.jsx)(h.QAE,{className:g})}),r]})}),E)},z=function(e){var n=e.car,r=n.year,t=n.make,a=n.model,s=n.img,i=n.rentalPrice,c=n.address,d=n.description,u=n.accessories,m=n.functionalities,_=n.rentalConditions,h=n.mileage,f=function(e){var n=e.fuelConsumption,r=e.engineSize;return["Fuel Consumption: ".concat(n),"Engine Size: ".concat(r)]}(n),j=function(e,n){var r=e.split(", "),t=r[1],a=r[r.length-1],s=n.year,i=n.type,l=n.id;return[t,a,"Id: ".concat(l),"Year: ".concat(s),"Type: ".concat(i)]}(c,n),p=function(e){var n=e.split("\n"),r=n[0].split(" ").slice(-1).join("");return n[0]=n[0].replace(r,""),n.splice(1,0,r),n}(_),g=h.toLocaleString("en-EN"),E=i.split("").slice(1).join("");return(0,l.jsxs)("div",{className:v,children:[(0,l.jsx)("img",{className:x,src:s||o,alt:"".concat(t," ").concat(a),width:"461",height:"248",loading:"lazy"}),(0,l.jsxs)("h2",{className:N,children:[t," ",(0,l.jsx)("span",{className:C,children:a}),", ",r]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("ul",{className:b,children:j.map((function(e,n){return(0,l.jsxs)("li",{className:L,children:[e,n<j.length-1]},n)}))}),(0,l.jsx)("ul",{className:b,children:f.map((function(e,n){return(0,l.jsxs)("li",{className:L,children:[e,n<j.length-1]},n)}))})]}),(0,l.jsx)("div",{className:F,children:d}),(0,l.jsxs)("div",{className:y,children:[(0,l.jsx)("h3",{className:M,children:"Accessories and functionalities:"}),(0,l.jsx)("ul",{className:Z,children:u.map((function(e,n){return(0,l.jsxs)("li",{className:k,children:[e,n<u.length-1]},n)}))}),(0,l.jsx)("ul",{className:Z,children:m.map((function(e,n){return(0,l.jsxs)("li",{className:k,children:[e,n<u.length-1]},n)}))})]}),(0,l.jsxs)("div",{className:y,children:[(0,l.jsx)("h3",{className:M,children:"Rental Conditions:"}),(0,l.jsxs)("ul",{className:P,children:[(0,l.jsxs)("li",{className:I,children:[(0,l.jsx)("p",{children:p[0]}),(0,l.jsx)("span",{className:w,children:p[1]})]}),(0,l.jsx)("li",{className:I,children:(0,l.jsx)("p",{children:p[2]})}),(0,l.jsx)("li",{className:I,children:(0,l.jsx)("p",{children:p[3]})}),(0,l.jsxs)("li",{className:I,children:[(0,l.jsx)("p",{children:"Mileage: "}),(0,l.jsx)("span",{className:w,children:g})]}),(0,l.jsxs)("li",{className:I,children:[(0,l.jsx)("p",{children:"Price: "}),(0,l.jsx)("span",{className:w,children:"".concat(E,"$")})]})]})]}),(0,l.jsx)("a",{href:"tel:+380730000000",className:S,children:"Rental car"})]})},T=function(e){var n=e.car,r=(0,a.I0)(),_=(0,a.v9)(u.Tc),h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,m.useState)(e),r=(0,t.Z)(n,2),a=r[0],s=r[1],i=function(){return s(!0)},l=function(){return s(!1)},c=function(){return s((function(e){return!e}))};return{isOpen:a,open:i,close:l,toggle:c}}(!1),f=h.isOpen,j=h.open,x=h.close,p=null===_||void 0===_?void 0:_.some((function(e){return e.id===n.id})),g=function(e){var n=e.address,r=e.rentalCompany,t=n.split(", ");return[t[1],t[t.length-1],r]}(n),v=function(e){return{type:e.type,mileage:e.mileage,functionalities:e.functionalities}}(n);return(0,l.jsxs)("li",{className:i.Z.item,children:[(0,l.jsxs)("div",{className:i.Z.thumbImage,children:[(0,l.jsx)("button",{className:i.Z.buttonImage,type:"button",onClick:function(){return r(p?(0,d.zm)(n):(0,d.Im)(n))},children:(0,l.jsx)(s.M_L,{className:" ".concat(p?i.Z.iconHeart_favorite:i.Z.iconHeart)})}),(0,l.jsx)("img",{className:i.Z.image,src:n.img?n.img:o,alt:"".concat(n.make," ").concat(n.model),width:"274",height:"268",loading:"lazy"})]}),(0,l.jsxs)("h2",{className:i.Z.titleCard,children:[" ",(0,l.jsxs)("span",{children:[" ",n.make,"  ",(0,l.jsx)("span",{children:n.model}),", ",n.year]})," ",(0,l.jsx)("span",{className:i.Z.titlePart,children:n.rentalPrice})]}),(0,l.jsx)(c,{locationData:g,carData:v}),(0,l.jsx)("button",{className:i.Z.buttonCard,onClick:j,children:"Learn more"}),f&&(0,l.jsx)(q,{isOpen:f,onClose:x,children:(0,l.jsx)(z,{car:n})})]})}},3620:function(e,n,r){r.d(n,{Z:function(){return j}});var t=r(1413),a=r(9434),s=r(887),i=r(2791),l=r(3558),c=r(4766),o=r(3433),d=r(9439),u=r(2791),m=u.useState,_=u.useEffect,h={form:"Filter_form__wVnxJ",containerForm:"Filter_containerForm__mQLXu",select:"Filter_select__QmVYV",selectLabel:"Filter_selectLabel__dgCCC",selectBrand:"Filter_selectBrand__LpogC",buttonFilter:"Filter_buttonFilter__wqIs2",containerButton:"Filter_containerButton__IHlFD",containerPrice:"Filter_containerPrice__Hx84A",selectPrice:"Filter_selectPrice__XCn0+",containerSelect:"Filter_containerSelect__bLm+q",errorMessage:"Filter_errorMessage__CoJBz"},f=r(184),j=function(e){var n=e.cars,r=(0,a.v9)(c.AD),u=(0,a.I0)(),j=function(e){if(e.length){var n=0,r=[];e.forEach((function(e){var r=+e.rentalPrice.split("").slice(1).join("");r>n&&(n=r)}));for(var t=10;t<=n;)r.push(t),t+=10;return r}}(n),x=function(e,n){var r=m([]),t=(0,d.Z)(r,2),a=t[0],s=t[1];return _((function(){if(n){var r=(0,o.Z)(new Set(e.map((function(e){return e[n]}))));s(r)}}),[e,n]),a}(n,"make"),p=(0,s.cI)({mode:"onChange"}),g=p.register,v=p.handleSubmit,N=p.control,C=p.reset,b=p.formState.errors;(0,i.useEffect)((function(){C(r)}),[r,C]);return(0,f.jsx)("form",{onSubmit:v((function(e){u((0,l.Tv)(e))})),children:(0,f.jsxs)("div",{className:h.form,children:[(0,f.jsxs)("div",{className:h.containerForm,children:[(0,f.jsxs)("div",{className:h.select,children:[(0,f.jsx)("label",{htmlFor:"brand",className:h.selectLabel,children:"Car brand"}),(0,f.jsx)(s.Qr,{name:"brand",control:N,rules:{required:!0,message:"Brand is required"},render:function(e){var n=e.field;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("select",(0,t.Z)((0,t.Z)({},n),{},{className:h.selectBrand,children:[(0,f.jsx)("option",{value:"",className:h.selectPlaceholder,children:"Enter the text"}),x&&x.map((function(e,n){return(0,f.jsx)("option",{value:e,className:h.selectText,children:e},n)}))]})),b.brand&&(0,f.jsx)("p",{className:h.errorMessage,children:"required"===b.brand.type?"Brand is required":b.brand.message})]})}})]}),(0,f.jsxs)("div",{className:h.select,children:[(0,f.jsx)("label",{htmlFor:"price",className:h.selectLabel,children:"Price/ 1 hour"}),(0,f.jsx)("div",{children:(0,f.jsx)(s.Qr,{name:"price",control:N,rules:{required:!0,min:{value:0,message:"Must be 0 or greater"}},render:function(e){var n=e.field;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("select",(0,t.Z)((0,t.Z)({},n),{},{className:h.selectBrand,children:[(0,f.jsx)("option",{value:"",children:"To $"}),j&&j.map((function(e,n){return(0,f.jsx)("option",{value:e,children:e},n)}))]})),b.price&&(0,f.jsx)("p",{className:h.errorMessage,children:"required"===b.price.type?"Price is required":b.price.message})]})}})})]}),(0,f.jsxs)("div",{className:h.containerPrice,children:[(0,f.jsx)("label",{htmlFor:"minMileage",className:h.selectLabel,children:"Car mileage / km (from)"}),(0,f.jsxs)("div",{className:h.containerSelect,children:[(0,f.jsx)("label",{className:h.selectLabel,children:(0,f.jsx)("input",(0,t.Z)({type:"number",placeholder:"From",className:h.selectPrice},g("from",{required:"This field is required",min:{value:0,message:"Must be 0 or greater"}})))}),(0,f.jsx)("label",{className:h.selectLabel,children:(0,f.jsx)("input",(0,t.Z)({type:"number",placeholder:"To",className:h.selectPrice},g("to",{required:"This field is required",min:{value:0,message:"Must be 0 or greater"},validate:function(e,n){var r=n.from;return parseInt(e)>parseInt(r)||"To must be greater than From"}})))}),(0,f.jsxs)("p",{className:h.errorMessage,children:[(null===b||void 0===b?void 0:b.from)&&(0,f.jsx)("span",{children:b.from.message}),(null===b||void 0===b?void 0:b.to)&&(0,f.jsx)("span",{children:b.to.message})]})]})]})]}),(0,f.jsxs)("div",{className:h.containerButton,children:[(0,f.jsx)("button",{type:"submit",className:h.buttonFilter,children:"Search"}),(0,f.jsx)("button",{type:"button",className:h.buttonFilter,onClick:function(){u((0,l.sx)()),C({brand:"",price:"",from:"",to:""})},children:"Reset"})]})]})})}},3674:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(9434),a=r(4766),s=r.p+"static/media/FoundImage.982c394401c5d8ff2dcd.jpeg",i="NotFound_container__gVQ7z",l="NotFound_title__nvxU6",c="NotFound_image__ENQEn",o=r(184),d=function(){return(0,o.jsxs)("section",{className:i,children:[(0,o.jsx)("img",{className:c,src:s,alt:"Car",width:"274",height:"268",loading:"lazy"}),(0,o.jsx)("h2",{className:l,children:"No followed cars"})]})},u=r(8633),m=r(5385),_=function(){var e=function(e,n){return n?e.filter((function(e){var r=parseInt(e.rentalPrice.substring(1)),t=parseFloat(e.mileage),a=!n.brand||e.make.toLowerCase()===n.brand.toLowerCase(),s=!n.price||r<=n.price,i=!n.from||t>=n.from,l=!n.to||t<=n.to,c=!n.rentalCompany||e.rentalCompany.toLowerCase()===n.rentalCompany.toLowerCase();return a&&s&&i&&l&&c})):e}((0,t.v9)(a.Tc),(0,t.v9)(a.AD));return(0,o.jsxs)("div",{className:m.Z.containerCatalog,children:[!e.length&&(0,o.jsx)(d,{}),(0,o.jsx)("ul",{className:m.Z.list,children:e.map((function(e){return(0,o.jsx)(u.Z,{car:e},e.id)}))})]})},h=r(3620),f=r(8699),j=function(){var e=(0,t.v9)(a.Tc);return(0,o.jsx)("div",{className:f.Z.container,children:(0,o.jsxs)("div",{children:[(0,o.jsx)(h.Z,{cars:e}),(0,o.jsx)(_,{})]})})}},4766:function(e,n,r){r.d(n,{AD:function(){return s},Tc:function(){return a},Wz:function(){return t}});var t=function(e){return e.cars.items},a=function(e){return e.cars.favorites},s=function(e){return e.cars.filter}},5385:function(e,n){n.Z={containerCatalog:"CarsList_containerCatalog__klDmo",list:"CarsList_list__CjSQY",button:"CarsList_button__OHdZY",item:"CarsList_item__UxzUF",thumbImage:"CarsList_thumbImage__6QjSI",buttonImage:"CarsList_buttonImage__rRzCi",iconHeart:"CarsList_iconHeart__M9ICc",iconHeart_favorite:"CarsList_iconHeart_favorite__oFdYk",image:"CarsList_image__XQzuG",buttonCard:"CarsList_buttonCard__6zQVo",listCard:"CarsList_listCard__gjs5U",itemCard:"CarsList_itemCard__hjNes",titleCard:"CarsList_titleCard__Jq4yL",titlePart:"CarsList_titlePart__uiGY7"}},8699:function(e,n){n.Z={container:"CatalogPage_container__w3ZO8"}}}]);
//# sourceMappingURL=145.3e13280d.chunk.js.map