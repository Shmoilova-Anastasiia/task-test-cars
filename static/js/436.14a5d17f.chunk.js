"use strict";(self.webpackChunktask_test_cars=self.webpackChunktask_test_cars||[]).push([[436],{8633:function(e,n,r){r.d(n,{Z:function(){return b}});var t=r(9439),i=r(9434),s=r(8820),a=r(5385),c=r(184),l=function(e){var n=e.locationData,r=e.carData,i=function(e,n){return"functionalities"===e?function(e){if(!e||0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++){var t=e[r];t.split(" ").length<n.split(" ").length&&(n=t)}var i=n.split(" ");return i.length>3?i.slice(0,3).join(" "):n}(n):"type"===e?n.split(",")[0].trim():n};return(0,c.jsxs)("div",{children:[(0,c.jsx)("ul",{className:a.Z.listCard,children:n.map((function(e,r){return(0,c.jsxs)("li",{className:a.Z.itemCard,children:[e,r<n.length-1]},r)}))}),(0,c.jsx)("ul",{className:a.Z.listCard,children:Object.entries(r).map((function(e,n,r){var s=(0,t.Z)(e,2),l=s[0],o=s[1];return(0,c.jsxs)("li",{className:a.Z.itemCard,children:[i(l,o),n<r.length-1]},n)}))})]})},o=r.p+"static/media/DefaultImage.2f1dfdb3f92f50a95b90.jpeg",d=r(3558),u=r(4766),h=r(2791),m=r(4164),f=r(4373),j="Modal_backdrop__xTnIT",x="Modal_modal__DJDMv",p=document.getElementById("modal"),v=function(e){var n=e.onClose,r=e.children,t=e.isOpen;(0,h.useEffect)((function(){document.body.style.overflow=t?"hidden":"visible"}),[t]);var i=(0,h.useCallback)((function(e){document.body.style.overflow="visible",function(e,n){var r=e.target,t=e.currentTarget,i=e.code;r!==t&&"Escape"!==i||n()}(e,n)}),[n]);return(0,h.useEffect)((function(){return document.body.addEventListener("keydown",i),function(){return document.body.removeEventListener("keydown",i)}}),[i]),(0,m.createPortal)((0,c.jsx)("div",{className:j,onClick:i,children:(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("button",{onClick:n,type:"button",children:(0,c.jsx)(f.QAE,{})}),r]})}),p)},g=function(e){var n=e.car,r=n.year,t=n.make,i=n.model,s=n.img,a=n.rentalPrice,l=n.address,d=n.description,u=n.accessories,h=n.functionalities,m=n.rentalConditions,f=n.mileage,j=function(e){var n=e.fuelConsumption,r=e.engineSize;return["Fuel Consumption: ".concat(n),"Engine Size: ".concat(r)]}(n),x=function(e,n){var r=e.split(", "),t=r[1],i=r[r.length-1],s=n.year,a=n.type,c=n.id;return[t,i,"Id: ".concat(c),"Year: ".concat(s),"Type: ".concat(a)]}(l,n),p=function(e){var n=e.split("\n"),r=n[0].split(" ").slice(-1).join("");return n[0]=n[0].replace(r,""),n.splice(1,0,r),n}(m),v=f.toLocaleString("en-EN"),g=a.split("").slice(1).join("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{src:s||o,alt:"".concat(t," ").concat(i),width:"461",height:"248",loading:"lazy"}),(0,c.jsxs)("h2",{children:[t," ",(0,c.jsx)("span",{className:"",children:i}),", ",r]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("ul",{children:x.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<x.length-1]},n)}))}),(0,c.jsx)("ul",{children:j.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<x.length-1]},n)}))})]}),(0,c.jsx)("div",{children:d}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Accessories and functionalities:"}),(0,c.jsx)("ul",{children:u.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<u.length-1]},n)}))}),(0,c.jsx)("ul",{children:h.map((function(e,n){return(0,c.jsxs)("li",{children:[e,n<u.length-1]},n)}))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Rental Conditions:"}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:p[0]}),(0,c.jsx)("span",{children:p[1]})]}),(0,c.jsx)("li",{children:(0,c.jsx)("p",{children:p[2]})}),(0,c.jsx)("li",{children:(0,c.jsx)("p",{children:p[3]})}),(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:"Mileage: "}),(0,c.jsx)("span",{children:v})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:"Price: "}),(0,c.jsx)("span",{children:"".concat(g,"$")})]})]})]}),(0,c.jsx)("a",{href:"tel:+380730000000",children:"Rental car"})]})},b=function(e){var n=e.car,r=(0,i.I0)(),m=(0,i.v9)(u.Tc),f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,h.useState)(e),r=(0,t.Z)(n,2),i=r[0],s=r[1],a=function(){return s(!0)},c=function(){return s(!1)},l=function(){return s((function(e){return!e}))};return{isOpen:i,open:a,close:c,toggle:l}}(!1),j=f.isOpen,x=f.open,p=f.close,b=null===m||void 0===m?void 0:m.some((function(e){return e.id===n.id})),C=function(e){var n=e.address,r=e.rentalCompany,t=n.split(", ");return[t[1],t[t.length-1],r]}(n),_=function(e){return{type:e.type,mileage:e.mileage,functionalities:e.functionalities}}(n);return(0,c.jsxs)("li",{className:a.Z.item,children:[(0,c.jsxs)("div",{className:a.Z.thumbImage,children:[(0,c.jsx)("button",{className:a.Z.buttonImage,type:"button",onClick:function(){return r(b?(0,d.zm)(n):(0,d.Im)(n))},children:(0,c.jsx)(s.M_L,{className:" ".concat(b?a.Z.iconHeart_favorite:a.Z.iconHeart)})}),(0,c.jsx)("img",{className:a.Z.image,src:n.img?n.img:o,alt:"".concat(n.make," ").concat(n.model),width:"274",height:"268",loading:"lazy"})]}),(0,c.jsxs)("h2",{className:a.Z.titleCard,children:[" ",(0,c.jsxs)("span",{children:[" ",n.make,"  ",(0,c.jsx)("span",{children:n.model}),", ",n.year]})," ",(0,c.jsx)("span",{className:a.Z.titlePart,children:n.rentalPrice})]}),(0,c.jsx)(l,{locationData:C,carData:_}),(0,c.jsx)("button",{className:a.Z.buttonCard,onClick:x,children:"Learn more"}),j&&(0,c.jsx)(v,{isOpen:j,onClose:p,children:(0,c.jsx)(g,{car:n})})]})}},3620:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(1413),i=r(9434),s=r(887),a=r(2791),c=r(7689),l=r(3558),o=r(4766),d=r(3433),u=r(9439),h=r(2791),m=h.useState,f=h.useEffect,j="Filter_form__wVnxJ",x=r(184),p=function(e){var n=e.cars,r=(0,i.v9)(o.AD),h=(0,i.I0)(),p="/favorites"===(0,c.TH)().pathname&&0===(null===n||void 0===n?void 0:n.length),v=function(e){if(e.length){var n=0,r=[];e.forEach((function(e){var r=+e.rentalPrice.split("").slice(1).join("");r>n&&(n=r)}));for(var t=10;t<=n;)r.push(t),t+=10;return r}}(n),g=function(e,n){var r=m([]),t=(0,u.Z)(r,2),i=t[0],s=t[1];return f((function(){if(n){var r=(0,d.Z)(new Set(e.map((function(e){return e[n]}))));s(r)}}),[e,n]),i}(n,"make"),b=(0,s.cI)({mode:"onChange",shouldDisable:p}),C=b.register,_=b.handleSubmit,y=b.control,Z=b.reset,L=b.formState.errors;(0,a.useEffect)((function(){Z(r)}),[r,Z]);return(0,x.jsx)("form",{onSubmit:_((function(e){h((0,l.Tv)(e))})),disabled:p,children:(0,x.jsxs)("div",{className:j,children:[(0,x.jsxs)("div",{className:j,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"brand",children:"Car brand"}),(0,x.jsx)(s.Qr,{name:"brand",control:y,rules:{required:!0,message:"Brand is required"},render:function(e){var n=e.field;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("select",(0,t.Z)((0,t.Z)({},n),{},{children:[(0,x.jsx)("option",{value:"",children:"Enter the text"}),g&&g.map((function(e,n){return(0,x.jsx)("option",{value:e,children:e},n)}))]})),L.brand&&(0,x.jsx)("p",{className:"error ".concat(p?"opacity-0":"opacity-100"),children:"required"===L.brand.type?"Brand is required":L.brand.message})]})}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"price",children:"Price/ 1 hour"}),(0,x.jsx)("div",{children:(0,x.jsx)(s.Qr,{name:"price",control:y,rules:{required:!0,min:{value:0,message:"Must be 0 or greater"}},render:function(e){var n=e.field;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("select",(0,t.Z)((0,t.Z)({},n),{},{children:[(0,x.jsx)("option",{value:"",children:"To $"}),v&&v.map((function(e,n){return(0,x.jsx)("option",{value:e,children:e},n)}))]})),L.price&&(0,x.jsx)("p",{className:"error ".concat(p?"opacity-0":"opacity-100"),children:"required"===L.price.type?"Price is required":L.price.message})]})}})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"minMileage",children:"Car mileage / km (from)"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{children:[(0,x.jsx)("input",(0,t.Z)({type:"number"},C("from",{required:"This field is required",min:{value:0,message:"Must be 0 or greater"}}))),(0,x.jsx)("span",{children:"From"})]}),(0,x.jsxs)("label",{children:[(0,x.jsx)("input",(0,t.Z)({type:"number"},C("to",{required:"This field is required",min:{value:0,message:"Must be 0 or greater"},validate:function(e,n){var r=n.from;return parseInt(e)>parseInt(r)||"To must be greater than From"}}))),(0,x.jsx)("span",{children:"To"})]}),(0,x.jsxs)("p",{className:"error flex items-center justify-between gap-1 ".concat(p?"opacity-0":"opacity-100"),children:[(null===L||void 0===L?void 0:L.from)&&(0,x.jsx)("span",{children:L.from.message}),(null===L||void 0===L?void 0:L.to)&&(0,x.jsx)("span",{children:L.to.message})]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{type:"submit",children:"Search"}),(0,x.jsx)("button",{type:"button",onClick:function(){h((0,l.sx)()),Z({brand:"",price:"",from:"",to:""})},children:"Reset"})]})]})})}},8267:function(e,n,r){r.r(n),r.d(n,{default:function(){return u}});var t=r(9434),i=r(4766),s=r.p+"static/media/FoundImage.982c394401c5d8ff2dcd.jpeg",a=r(184),c=function(){return(0,a.jsxs)("section",{className:"no-scrollbar relative flex flex-col items-center justify-start overflow-hidden",children:[(0,a.jsx)("h2",{children:"No followed cars"}),(0,a.jsx)("img",{src:s,alt:"Car",width:"274",height:"268",loading:"lazy"})]})},l=r(8633),o=function(){var e=function(e,n){return n?e.filter((function(e){var r=parseInt(e.rentalPrice.substring(1)),t=parseFloat(e.mileage),i=!n.brand||e.make.toLowerCase()===n.brand.toLowerCase(),s=!n.price||r<=n.price,a=!n.from||t>=n.from,c=!n.to||t<=n.to,l=!n.rentalCompany||e.rentalCompany.toLowerCase()===n.rentalCompany.toLowerCase();return i&&s&&a&&c&&l})):e}((0,t.v9)(i.Tc),(0,t.v9)(i.AD));return(0,a.jsxs)("div",{children:[!e.length&&(0,a.jsx)(c,{}),(0,a.jsx)("ul",{children:e.map((function(e){return(0,a.jsx)(l.Z,{car:e},e.id)}))})]})},d=r(3620),u=function(){var e=(0,t.v9)(i.Tc);return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Z,{cars:e}),(0,a.jsx)(o,{})]})})}},4766:function(e,n,r){r.d(n,{AD:function(){return s},Tc:function(){return i},Wz:function(){return t}});var t=function(e){return e.cars.items},i=function(e){return e.cars.favorites},s=function(e){return e.cars.filter}},5385:function(e,n){n.Z={containerCatalog:"CarsList_containerCatalog__klDmo",list:"CarsList_list__CjSQY",button:"CarsList_button__OHdZY",item:"CarsList_item__UxzUF",thumbImage:"CarsList_thumbImage__6QjSI",buttonImage:"CarsList_buttonImage__rRzCi",iconHeart:"CarsList_iconHeart__M9ICc",iconHeart_favorite:"CarsList_iconHeart_favorite__oFdYk",image:"CarsList_image__XQzuG",buttonCard:"CarsList_buttonCard__6zQVo",listCard:"CarsList_listCard__gjs5U",itemCard:"CarsList_itemCard__hjNes",titleCard:"CarsList_titleCard__Jq4yL",titlePart:"CarsList_titlePart__uiGY7"}}}]);
//# sourceMappingURL=436.14a5d17f.chunk.js.map